# TT20Forged

## 简介

TT20Forged 是一款旨在改善 Minecraft 服务器在低 TPS (每秒刻数) 环境下游戏体验的服务端模组。当服务器卡顿时 (即 TPS 低于 20), 模组会智能地加速各种游戏内活动（如破坏方块、使用物品、流体流动等），使其看起来尽可能接近正常 20 TPS 下的速度，从而减少玩家感受到的延迟和卡顿感。

## 功能特色

本模组可以加速以下游戏机制：

-   方块实体 (如熔炉、箱子)
-   方块破坏
-   药水效果
-   流体流动 (水和岩浆)
-   物品拾取延迟
-   食物和药水使用
-   传送门穿越
-   睡眠
-   时间流逝
-   弓和弩的拉弦
-   随机刻 (影响植物生长等)

所有功能均可在配置文件中独立开关。

## 命令用法

### `/tt20`
-   **功能**: 显示模组的基本信息和启用状态。
-   **权限**: 无

### `/tt20 tps`
-   **功能**: 显示当前服务器的 TPS、平均 TPS 和稳定 TPS 信息。
-   **权限**: 无

### `/tt20 status`
-   **功能**: 动态显示所有加速功能的当前开关状态。
-   **权限**: 无

### `/tt20 toggle <配置名>`
-   **功能**: 切换一个指定的布尔类型配置项的开关状态。
-   **示例**: `/tt20 toggle block-breaking-acceleration`
-   **提示**: `<配置名>` 参数支持按 `Tab` 键自动补全。
-   **权限**: OP 等级 3

### `/tt20 reload`
-   **功能**: 重新加载主配置文件和方块实体掩码配置文件。
-   **权限**: OP 等级 2

## 配置文件

配置文件位于您服务器根目录下的 `config/tt20/` 文件夹中。

### `config.json`
主配置文件。您可以在这里手动开关各项加速功能。
-   `tick-repeat-cap`: 补帧上限。这是一个安全设置，用于限制在单次游戏刻中为追赶服务器延迟而重复执行tick的最大次数。默认值为10。设置为-1或0可禁用此上限。建议保持一个合理的正整数。

### `block_entity_mask.json`
方块实体加速的掩码配置。您可以配置一个白名单或黑名单来精确控制哪些方块实体（例如 `minecraft:furnace`）应该被加速。
-   `type`: "whitelist" (白名单) 或 "blacklist" (黑名单).
-   `blocks`: 方块 ID 列表，支持通配符 (例如 `minecraft:*` 或 `*:furnace`).

## 多语言支持

本模组目前支持**英语**和**中文**。游戏客户端的语言会自动切换模组的显示语言。
社区可以通过在 `jar` 文件内添加新的语言文件 (`assets/tt20forged/lang/<lang_code>.json`) 来贡献新的翻译。
